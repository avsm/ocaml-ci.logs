=== opam depext -ivyj 2 ppx_include
[2016-12-24 01:20.22] Starting...
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - m4
m4
# All required OS packages found.
# Now letting OPAM install the packages
The following actions will be performed:
  - install cppo        1.1.0                                   [required by ppx_include]
  - install ppx_include 1.1  
===== 2 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/2: [cppo.1.1.0: dl]
Processing  2/2: [cppo.1.1.0: dl] [ppx_include.1.1: dl]
[ppx_include.1.1] downloaded from file:///home/opam/opam-repository/cache
Processing  2/2: [cppo.1.1.0: dl]
[cppo.1.1.0] downloaded from file:///home/opam/opam-repository/cache
Processing  2/2:

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/4: [cppo: make]
+ make  (CWD=/home/opam/.opam/ocaml-base-compiler.4.04.0/.opam-switch/build/cppo.1.1.0)
- echo 'let cppo_version = "1.1.0"' > cppo_version.ml
- ocamlyacc cppo_parser.mly
- ocamllex cppo_lexer.mll
- 368 states, 13139 transitions, table size 54764 bytes
- 3729 additional bytes used for bindings
- ocamlopt -o cppo -dtypes unix.cmxa str.cmxa cppo_version.ml cppo_types.ml cppo_parser.mli cppo_parser.ml cppo_lexer.ml cppo_command.ml cppo_eval.ml cppo_main.ml
- cd ocamlbuild_plugin && ocamlbuild -use-ocamlfind ocamlbuild_cppo.cma ocamlbuild_cppo.cmxa ocamlbuild_cppo.a ocamlbuild_cppo.cmxs
- ocamlfind ocamldep -package ocamlbuild -modules ocamlbuild_cppo.mli > ocamlbuild_cppo.mli.depends
- ocamlfind ocamlc -c -package ocamlbuild -o ocamlbuild_cppo.cmi ocamlbuild_cppo.mli
- ocamlfind ocamldep -package ocamlbuild -modules ocamlbuild_cppo.ml > ocamlbuild_cppo.ml.depends
- ocamlfind ocamlc -c -package ocamlbuild -o ocamlbuild_cppo.cmo ocamlbuild_cppo.ml
- ocamlfind ocamlc -a -package ocamlbuild ocamlbuild_cppo.cmo -o ocamlbuild_cppo.cma
- ocamlfind ocamlopt -c -package ocamlbuild -o ocamlbuild_cppo.cmx ocamlbuild_cppo.ml
- ocamlfind ocamlopt -a -package ocamlbuild ocamlbuild_cppo.cmx -o ocamlbuild_cppo.cmxa
- ocamlfind ocamlopt -shared -package ocamlbuild ocamlbuild_cppo.cmx -o ocamlbuild_cppo.cmxs
-> compiled  cppo.1.1.0
Processing  2/4: [cppo: make install-lib]
+ make "install-lib" (CWD=/home/opam/.opam/ocaml-base-compiler.4.04.0/.opam-switch/build/cppo.1.1.0)
- ocamlfind install -patch-version 1.1.0 "cppo_ocamlbuild" \
- 	META ocamlbuild_plugin/_build/ocamlbuild_cppo.cmi ocamlbuild_plugin/_build/ocamlbuild_cppo.cma ocamlbuild_plugin/_build/ocamlbuild_cppo.cmxa ocamlbuild_plugin/_build/ocamlbuild_cppo.a ocamlbuild_plugin/_build/ocamlbuild_cppo.cmxs
- Installed /home/opam/.opam/ocaml-base-compiler.4.04.0/lib/cppo_ocamlbuild/ocamlbuild_cppo.cmxs
- Installed /home/opam/.opam/ocaml-base-compiler.4.04.0/lib/cppo_ocamlbuild/ocamlbuild_cppo.a
- Installed /home/opam/.opam/ocaml-base-compiler.4.04.0/lib/cppo_ocamlbuild/ocamlbuild_cppo.cmxa
- Installed /home/opam/.opam/ocaml-base-compiler.4.04.0/lib/cppo_ocamlbuild/ocamlbuild_cppo.cma
- Installed /home/opam/.opam/ocaml-base-compiler.4.04.0/lib/cppo_ocamlbuild/ocamlbuild_cppo.cmi
- Installed /home/opam/.opam/ocaml-base-compiler.4.04.0/lib/cppo_ocamlbuild/META
-> installed cppo.1.1.0
Processing  3/4: [ppx_include: ocaml]
+ ocaml "pkg/build.ml" "native=true" "native-dynlink=true" (CWD=/home/opam/.opam/ocaml-base-compiler.4.04.0/.opam-switch/build/ppx_include.1.1)
- ocamlfind ocamlopt -package unix -package ocamlbuild -linkpkg -package cppo_ocamlbuild myocamlbuild.ml /home/opam/.opam/ocaml-base-compiler.4.04.0/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
- File "_tags", line 1, characters 69-81:
- Warning: the tag "cppo_V_OCAML" is not used in any flag or dependency declaration, so it will have no effect; it may be a typo. Otherwise you can use `mark_tag_used` in your myocamlbuild.ml to disable this warning.
- cppo -o src/ppx_include.ml src/ppx_include.cppo.ml
- + cppo -o src/ppx_include.ml src/ppx_include.cppo.ml
- Error: File "src/ppx_include.cppo.ml", line 1, characters 4-17
- Error: Undefined identifier "OCAML_VERSION"
- Command exited with code 1.
- + ocamlfind ocamlopt -package unix -package ocamlbuild -linkpkg -package cppo_ocamlbuild myocamlbuild.ml /home/opam/.opam/ocaml-base-compiler.4.04.0/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
- File "_none_", line 1:
- Warning 58: no cmx file was found in path for module Ocamlbuild_cppo, and its interface was not compiled with -opaque
[ERROR] The compilation of ppx_include failed at "ocaml pkg/build.ml native=true native-dynlink=true".

#=== ERROR while compiling ppx_include.1.1 ====================================#
# command              ocaml pkg/build.ml native=true native-dynlink=true
# path                 /home/opam/.opam/ocaml-base-compiler.4.04.0/.opam-switch/build/ppx_include.1.1
# exit-code            10
# env-file             /home/opam/.opam/log/ppx_include-1-2dea01.env
# output-file          /home/opam/.opam/log/ppx_include-1-2dea01.out
### output ###
# ocamlfind ocamlopt -package unix -package ocamlbuild -linkpkg -package cppo_ocamlbuild myocamlbuild.ml /home/opam/.opam/ocaml-base-compiler.4.04.0/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
# File "_tags", line 1, characters 69-81:
# Warning: the tag "cppo_V_OCAML" is not used in any flag or dependency declaration, so it will have no effect; it may be a typo. Otherwise you can use `mark_tag_used` in your myocamlbuild.ml to disable this warning.
# cppo -o src/ppx_include.ml src/ppx_include.cppo.ml
# + cppo -o src/ppx_include.ml src/ppx_include.cppo.ml
# Error: File "src/ppx_include.cppo.ml", line 1, characters 4-17
# Error: Undefined identifier "OCAML_VERSION"
# Command exited with code 1.
# + ocamlfind ocamlopt -package unix -package ocamlbuild -linkpkg -package cppo_ocamlbuild myocamlbuild.ml /home/opam/.opam/ocaml-base-compiler.4.04.0/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
# File "_none_", line 1:
# Warning 58: no cmx file was found in path for module Ocamlbuild_cppo, and its interface was not compiled with -opaque



=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
+- The following actions failed
| - build ppx_include 1.1
+- 
+- The following changes have been performed
| - install cppo 1.1.0
+- 
# Run eval `opam env` to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/ocaml-base-compiler.4.04.0/.opam-switch/backup/state-20161224025938.export"
'opam install --verbose --yes --jobs=2 ppx_include' failed.
[2016-12-24 02:59.49] Failed: Command "docker" "run" "--rm" "--tmpfs" "/tmp" "-v" "opam2-archive:/home/opam/opam-repository/cache" "sha256:e1e6e7baf1b63f8ede9bc0d8f29be09cc90103563cdd629ff4e8e184f10fd8f9" "opam" "depext" "-ivyj" "2" "ppx_include" exited with status 4
