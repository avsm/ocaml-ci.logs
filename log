=== opam depext -ivyj 2 ocapic
[2016-12-24 01:20.08] Starting...
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - m4
m4
# All required OS packages found.
# Now letting OPAM install the packages
The following actions will be performed:
  - install ocamlclean 2.1                                      [required by ocapic]
  - install graphics   1.0                                      [required by ocapic]
  - install ocapic     3.3
===== 3 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  2/3: [ocamlclean.2.1: dl]
Processing  3/3: [ocamlclean.2.1: dl] [ocapic.3.3: dl]
[ocamlclean.2.1] downloaded from file:///home/opam/opam-repository/cache
Processing  3/3: [ocapic.3.3: dl]
[ocapic.3.3] downloaded from file:///home/opam/opam-repository/cache
Processing  3/3:

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/6: [graphics: ocamlc graphics.cma]
Processing  2/6: [graphics: ocamlc graphics.cma] [ocamlclean: ./configure]
+ ocamlc "-custom" "graphics.cma" "-o" "test" (CWD=/home/opam/.opam/ocaml-base-compiler.4.04.0/.opam-switch/build/graphics.1.0)
- File "_none_", line 1:
- Error: Cannot find file graphics.cma
- File "_none_", line 1:
- Error: Cannot find file graphics.cma
Processing  2/6: [ocamlclean: ./configure]
[ERROR] The compilation of graphics failed at "ocamlc -custom graphics.cma -o test".
Processing  3/6: [ocamlclean: ./configure]
+ ./configure "-prefix" "/home/opam/.opam/ocaml-base-compiler.4.04.0" (CWD=/home/opam/.opam/ocaml-base-compiler.4.04.0/.opam-switch/build/ocamlclean.2.1)
- ** OCamlClean configuration completed successfully **
Processing  3/6: [ocamlclean: make all]
+ make "all" (CWD=/home/opam/.opam/ocaml-base-compiler.4.04.0/.opam-switch/build/ocamlclean.2.1)
- make[1]: Entering directory '/home/opam/.opam/ocaml-base-compiler.4.04.0/.opam-switch/build/ocamlclean.2.1/src'
- cp /home/opam/.opam/ocaml-base-compiler.4.04.0/.opam-switch/build/ocamlclean.2.1/etc/config.ml config.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlbuild -cflags -w,Ae,-warn-error,A,-safe-string,-strict-formats,-strict-sequence -lflags -w,Ae,-warn-error,A,-safe-string,-strict-formats,-strict-sequence -no-links -classic-display -cflag -g main.native
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamldep.opt -modules main.ml > main.ml.depends
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamldep.opt -modules cleanbra.ml > cleanbra.ml.depends
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamldep.opt -modules instr.ml > instr.ml.depends
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlc.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o instr.cmo instr.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamldep.opt -modules cleanenvs.ml > cleanenvs.ml.depends
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamldep.opt -modules step1.ml > step1.ml.depends
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamldep.opt -modules code.ml > code.ml.depends
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamldep.opt -modules index.ml > index.ml.depends
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlc.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o index.cmo index.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlc.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o code.cmo code.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamldep.opt -modules step2.ml > step2.ml.depends
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamldep.opt -modules prim.ml > prim.ml.depends
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlc.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o prim.cmo prim.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlc.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o step1.cmo step1.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlc.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o step2.cmo step2.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamldep.opt -modules config.ml > config.ml.depends
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamldep.opt -modules data.ml > data.ml.depends
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamldep.opt -modules dump.ml > dump.ml.depends
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamldep.opt -modules globalise.ml > globalise.ml.depends
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlc.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o data.cmo data.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamldep.opt -modules rmnop.ml > rmnop.ml.depends
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlc.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o rmnop.cmo rmnop.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamldep.opt -modules linker.ml > linker.ml.depends
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlc.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o dump.cmo dump.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamldep.opt -modules loader.ml > loader.ml.depends
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamldep.opt -modules step3.ml > step3.ml.depends
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlc.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o cleanbra.cmo cleanbra.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlc.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o cleanenvs.cmo cleanenvs.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlc.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o config.cmo config.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlc.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o globalise.cmo globalise.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlc.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o linker.cmo linker.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlc.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o loader.cmo loader.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlc.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o step3.cmo step3.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlc.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o main.cmo main.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlopt.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o instr.cmx instr.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlopt.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o index.cmx index.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlopt.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o code.cmx code.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlopt.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o prim.cmx prim.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlopt.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o step1.cmx step1.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlopt.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o step2.cmx step2.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlopt.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o data.cmx data.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlopt.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o rmnop.cmx rmnop.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlopt.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o dump.cmx dump.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlopt.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o cleanbra.cmx cleanbra.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlopt.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o cleanenvs.cmx cleanenvs.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlopt.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o config.cmx config.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlopt.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o globalise.cmx globalise.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlopt.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o linker.cmx linker.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlopt.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o loader.cmx loader.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlopt.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o step3.cmx step3.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlopt.opt -c -w Ae -warn-error A -safe-string -strict-formats -strict-sequence -g -o main.cmx main.ml
- /home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlopt.opt -w Ae -warn-error A -safe-string -strict-formats -strict-sequence instr.cmx cleanbra.cmx index.cmx code.cmx prim.cmx step1.cmx step2.cmx cleanenvs.cmx config.cmx data.cmx dump.cmx rmnop.cmx globalise.cmx linker.cmx loader.cmx step3.cmx main.cmx -o main.native
- cp _build/main.native /home/opam/.opam/ocaml-base-compiler.4.04.0/.opam-switch/build/ocamlclean.2.1/bin/ocamlclean
- make[1]: Leaving directory '/home/opam/.opam/ocaml-base-compiler.4.04.0/.opam-switch/build/ocamlclean.2.1/src'
-> compiled  ocamlclean.2.1
Processing  4/6: [ocamlclean: make install]
+ make "install" (CWD=/home/opam/.opam/ocaml-base-compiler.4.04.0/.opam-switch/build/ocamlclean.2.1)
- make[1]: Nothing to be done for 'ocamlclean'.
- mkdir -p "/home/opam/.opam/ocaml-base-compiler.4.04.0/bin"
- mkdir -p "/home/opam/.opam/ocaml-base-compiler.4.04.0/man/man1/man1"
- cp bin/ocamlclean "/home/opam/.opam/ocaml-base-compiler.4.04.0/bin/ocamlclean"
- cp man/ocamlclean.1.gz "/home/opam/.opam/ocaml-base-compiler.4.04.0/man/man1/man1/ocamlclean.1.gz"
-> installed ocamlclean.2.1

#=== ERROR while compiling graphics.1.0 =======================================#
# command              ocamlc -custom graphics.cma -o test
# path                 /home/opam/.opam/ocaml-base-compiler.4.04.0/.opam-switch/build/graphics.1.0
# exit-code            2
# env-file             /home/opam/.opam/log/graphics-1-a00279.env
# output-file          /home/opam/.opam/log/graphics-1-a00279.out
### output ###
# File "_none_", line 1:
# Error: Cannot find file graphics.cma



=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
+- The following actions were aborted
| - install ocapic 3.3
+- 
+- The following actions failed
| - build graphics 1.0
+- 
+- The following changes have been performed
| - install ocamlclean 2.1
+- 

=-=- graphics.1.0 troubleshooting -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> This package checks whether the Graphics library was compiled.

The former state can be restored with:
    opam switch import "/home/opam/.opam/ocaml-base-compiler.4.04.0/.opam-switch/backup/state-20161224025253.export"
'opam install --verbose --yes --jobs=2 ocapic' failed.
# Run eval `opam env` to update the current shell environment
[2016-12-24 02:53.04] Failed: Command "docker" "run" "--rm" "--tmpfs" "/tmp" "-v" "opam2-archive:/home/opam/opam-repository/cache" "sha256:e1e6e7baf1b63f8ede9bc0d8f29be09cc90103563cdd629ff4e8e184f10fd8f9" "opam" "depext" "-ivyj" "2" "ocapic" exited with status 4
