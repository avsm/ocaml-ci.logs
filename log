=== opam depext -ivyj 2 riak
[2016-12-23 00:09.51] Starting...
[2016-12-23 00:09.51] Waiting for free pool slot to run
[2016-12-23 01:08.10] Pool slot obtained, starting run
[2016-12-23 01:08.10] docker run sha256:f22695da41b2f6bed5d7d78276d744cd33a425f6972295751494da8781d6874b opam depext -ivyj 2 riak
# Detecting depexts using flags: x86_64 linux ubuntu
# The following system packages are needed:
#  - camlp4-extra
#  - debianutils
#  - m4
#  - ncurses-dev
#  - pkg-config
#  - protobuf-compiler
# The following new OS packages need to be installed: protobuf-compiler
The following command needs to be run through "sudo":
    apt-get install -qq -yy protobuf-compiler
debconf: unable to initialize frontend: Dialog
debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (This frontend requires a controlling tty.)
debconf: falling back to frontend: Teletype
dpkg-preconfigure: unable to re-open stdin: 
Selecting previously unselected package libprotobuf9v5:amd64.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 22908 files and directories currently installed.)
Preparing to unpack .../libprotobuf9v5_2.6.1-1.3_amd64.deb ...
Unpacking libprotobuf9v5:amd64 (2.6.1-1.3) ...
Selecting previously unselected package libprotoc9v5:amd64.
Preparing to unpack .../libprotoc9v5_2.6.1-1.3_amd64.deb ...
Unpacking libprotoc9v5:amd64 (2.6.1-1.3) ...
Selecting previously unselected package protobuf-compiler.
Preparing to unpack .../protobuf-compiler_2.6.1-1.3_amd64.deb ...
Unpacking protobuf-compiler (2.6.1-1.3) ...
Processing triggers for libc-bin (2.23-0ubuntu5) ...
Setting up libprotobuf9v5:amd64 (2.6.1-1.3) ...
Setting up libprotoc9v5:amd64 (2.6.1-1.3) ...
Setting up protobuf-compiler (2.6.1-1.3) ...
Processing triggers for libc-bin (2.23-0ubuntu5) ...
# OS packages installation successful
# Now letting OPAM install the packages
The following dependencies couldn't be met:
  - riak -> riak-pb -> piqi < 0.7.0 -> camlp4 < 4.02 -> ocaml < 4.02 -> ocaml-base-compiler < 4.02.0
    conflict with the base packages of this switch
  - riak -> riak-pb -> piqi < 0.7.0 -> camlp4 < 4.02 -> ocaml < 4.02 -> ocaml-system < 4.02.0
    unmet availability conditions, e.g. sys-ocaml-version = "4.01.0"
  - riak -> riak-pb -> piqi < 0.7.0 -> camlp4 < 4.02 -> ocaml < 4.02 -> ocaml-variants < 4.01.1~
    conflict with the base packages of this switch

No solution found, exiting
'opam install --verbose --yes --jobs=2 riak' failed.
[2016-12-23 01:08.27] Failed: Command "docker" "run" "--rm" "--tmpfs" "/tmp" "-v" "opam2-archive:/home/opam/opam-repository/cache" "sha256:f22695da41b2f6bed5d7d78276d744cd33a425f6972295751494da8781d6874b" "opam" "depext" "-ivyj" "2" "riak" exited with status 3
